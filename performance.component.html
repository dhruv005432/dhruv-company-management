<h2><i class="fas fa-chart-line"></i> Performance Reviews</h2>

<!-- Form -->
<div class="form-box">
  <select [(ngModel)]="newReview.employee">
    <option value="">Select Employee</option>
    <option *ngFor="let emp of employees">{{ emp }}</option>
  </select>

  <input type="text" [(ngModel)]="newReview.period" placeholder="Period (e.g., Q1-2025)" />
  <input type="number" step="0.1" [(ngModel)]="newReview.rating" placeholder="Rating (0-5)" />
  <textarea [(ngModel)]="newReview.feedback" placeholder="Feedback"></textarea>
  <input type="text" [(ngModel)]="newReview.goals" placeholder="Goals (comma separated)" />

  <button *ngIf="!editId" (click)="addReview()">Add Review</button>
  <button *ngIf="editId" (click)="updateReview()">Update Review</button>
</div>

<!-- Table -->
<table>
  <thead>
    <tr>
      <th>Employee</th>
      <th>Period</th>
      <th>Rating</th>
      <th>Feedback</th>
      <th>Goals</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let r of performanceList">
      <td>{{ r.employee }}</td>
      <td>{{ r.period }}</td>
      <td>{{ r.rating }}</td>
      <td>{{ r.feedback }}</td>
      <td>
        <ul>
          <li *ngFor="let g of r.goals">{{ g }}</li>
        </ul>
      </td>
      <td>
        <button (click)="editReview(r)">Edit</button>
        <button (click)="deleteReview(r.id)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>
